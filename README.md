# 2019级吉林大学程序设计基础课程设计（荣誉课)

## 项目组成员

​	组长：周元琛;

​	组员：陈科桦，李扬宁;

## 题目要求

​	编写一个 C 语言程序，实现一个医院的诊疗管理系统，能够管理至少 30 位患者，每位患者至多 30 条诊疗记录。其中：

1）每条诊疗记录包括患者信息、医生信息、诊疗情况三部分。请自行组织相关信息的存储方式（冗余信息可不存储）和显示格式。

2）患者信息包括：姓名、年龄、挂号；挂号唯一。

3）医生信息包括：姓名、级别、科室、工号、出诊时间；工号唯一；每位医生只在规定时间出诊（如每周一、周三，默认出诊即全天出诊）。

4）诊疗情况分为 3 类信息：检查、开药、住院。对于检查，仅记录每种检查费用，以及所有检查的总费用；对于开药，仅记录每种药品名称、单价、数量， 以及所有药品的总价；对于住院，仅记录住院开始日期、预计出院日期、住院押金。

5）住院费用按实际天数计算。在办理住院时（即开始日期）需要交纳住院 押金，住院押金要求为 100 元的整数倍，且不低于 200*N（N 为拟住院天数）元。 特殊约定：在 00:00-08:00 之间办理出院不收取当天的住院费。对于拟继续住院 的患者则系统会自动在 08:00 从患者的住院押金中扣除当天的住院费用，患者住 院期间需随时保证住院押金一直不低于 1000 元。 

​	为了简化，特做如下约定：

1）如涉及时间，仅包括月、日、时、分（默认为当年）。

2）患者最多 100 位，医生最多 30 位；药品最多 30 种，药品充足；患者每次开药最多 100 盒（或其它合适的数量单位）。

3）医生的级别限定为：主任医师、副主任医师、主治医师、住院医师， 尽可能符合实际情况。医生仅隶属于某个科室。提醒：医生之间、患者之间、医生患者之间均可能重名。

4）每天，医院可最多受理 500 个号，每位医生可最多受理 20 个号，每位患者可最多挂 5 个号、同一科室最多挂 1 个号；需自行设计挂号的编码规则，可隐含挂号日期、挂号当天的顺序号、对应的医生等信息，保证每条诊疗记录的挂号 唯一。

5）金额要精确到元、角、分，不允许有误差，最高额度不超过 10 万；最大数量不超过 int 允许最大整数。 

​	具体功能要求如下：

0）开始时，管理系统默认医院的运营资金为 0 元。

1）【增加】能够从文件中录入多条诊疗记录，也能够随时录入 1 条诊疗记录。 注意：需要考虑各种类型的不规范、不合理或错误数据，如：数据位数不对、格式不对等。【重点考察】

2）【修改】能够随时修改 1 条诊疗记录。按照财务规范，如需修改错误的诊 疗记录，应将当前错误的诊疗记录予以撤销后，再补充添加正确的诊疗记录。【重 点考察】

3）【删除】能够随时删除 1 条诊疗记录。 

4）【 查询】能够按照合理顺序打印某个科室的诊疗信息（按照科室检索）。 

5）【查询】能够按照合理顺序打印某位医生的诊疗信息（按照医生的工号检索）。

6）【查询】能够按照合理顺序打印某位患者的历史诊疗信息（按照患者的相关信息检索）。 

7）【统计】能够统计医院目前的营业额（检查费用+药品费用+住院费用，不 含住院押金）；能够生成目前的住院患者报表。【重点考察】 

8）【 统计】能够统计每位医生的出诊情况和工作繁忙程度。

9）【某段时间范围】能够打印某段时间范围内的所有诊疗信息。【重点考察】

10）【存储】能够将当前系统中的所有信息保存到文件中。

11）其它你认为有用的附加功能，可酌情添加。 

​	备注：

1）住院医师只是医生的一种级别，并不表示诊疗情况中的住院只能与住院医师对应。 

2）全程链表实现。 

3）请按照人性化的方式设计具体功能，如：增加的诊疗信息仅含有部分数据，灵活的数据输入方式，软件使用人员操作失误，用户希望的多样化 的查询和统计方式，清晰美观的输出方式，合理划分为多个源文件。

4）请自行构造原始数据文件用于测试，文件类型为 txt，每个文 件至少包含 30 条诊疗记录。 

## 荣誉课补充功能要求

1）医院的病房有限，每间病房的床位有限，需要考虑病房和病床的情况对患者住院情况进行安排。

 2）病房按照护理情况分为特殊病房、普通病房，按照床位数分为：单人病房、双人病房、三人病房、单人陪护病房、单人陪护疗养病房。各类病床的价格有所不同。规定：如床位紧张（剩余空床不到 20%），则单人陪护疗养病房可以 调整为双人病房。

3）医生可能出现离职、请假或新聘。

4）历史信息存于多个类型不同的记录文件，文件内部或文件之间的信息可 能重复、冲突、不全。

5）假定病房大小一致，总量不变。不考虑价格因素，根据诊疗的历史记录， 重新调整各类病房的数量，使得在尽可能满足患者需求的情况下，提升舒适程度。

6）根据诊疗的历史记录，预期医生的后期工作安排，如增加或减少某个科室的医生。

7）某些患者就诊时，希望挂号同一医生。对于这类患者，当其已往的挂号医生出现停诊、或当天挂号已满时，请根据患者的就诊历史，帮助其推荐同科室的其他医生，或同一医生的其他 出诊时间。 

